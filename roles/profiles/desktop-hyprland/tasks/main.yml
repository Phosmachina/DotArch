---
# Profile role for complete Desktop Hyprland setup
# This meta role orchestrates all required dependencies for a full Hyprland desktop

- name: Include system core configuration
  ansible.builtin.include_role:
    name: system/core
  tags: [ system ]

- name: Include user shell configuration
  ansible.builtin.include_role:
    name: users/shell
  tags: [ system ]
  when: configure_shell | default(true)

- name: Include desktop fonts
  ansible.builtin.include_role:
    name: desktop/fonts
  tags: [ desktop ]

- name: Include core Hyprland window manager
  ansible.builtin.include_role:
    name: desktop/hyprland
  tags: [ desktop ]

- name: Include display manager
  ansible.builtin.include_role:
    name: desktop/greetd
  tags: [ desktop ]
  when: not skip_greetd | default(false)

- name: Include terminal emulator
  ansible.builtin.include_role:
    name: desktop/terminal
  tags: [ desktop ]

- name: Include application launcher
  ansible.builtin.include_role:
    name: desktop/rofi
  tags: [ desktop ]

- name: Include status bar
  ansible.builtin.include_role:
    name: desktop/waybar
  tags: [ desktop ]

- name: Include notification center
  ansible.builtin.include_role:
    name: desktop/notifications
  tags: [ desktop ]

- name: Include file manager
  ansible.builtin.include_role:
    name: desktop/filemanager
  tags: [ desktop ]

- name: Include clipboard management
  ansible.builtin.include_role:
    name: desktop/clipboard
  tags: [ desktop ]

- name: Include screenshot tools
  ansible.builtin.include_role:
    name: desktop/screenshot
  tags: [ desktop ]

- name: Include Firefox browser
  ansible.builtin.include_role:
    name: apps/firefox
  tags: [ apps ]
  when: enable_firefox | default(true)

- name: Include Bitwarden password manager
  ansible.builtin.include_role:
    name: apps/bitwarden
  tags: [ apps ]
  when: enable_bitwarden | default(true)

- name: Include mpv
  ansible.builtin.include_role:
    name: apps/mpv
  tags: [ apps, mpv ]
  when: enable_mpv | default(true)

- name: Include zathura
  ansible.builtin.include_role:
    name: apps/zathura
  tags: [ apps, zathura ]
  when: enable_zathura | default(true)

- name: Include qimgv
  ansible.builtin.include_role:
    name: apps/qimgv
  tags: [ apps, qimgv ]
  when: enable_qimgv | default(true)

- name: Include company compliance apps
  ansible.builtin.include_role:
    name: apps/company
  tags: [ apps, company ]
  when:
    - company_compliance | default(false)
    - ansible_facts.distribution == 'Ubuntu'